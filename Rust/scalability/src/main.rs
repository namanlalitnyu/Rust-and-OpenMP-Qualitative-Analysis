use std::time::Instant;

fn main() { 
    let now = Instant::now();
    matrix_sort();
    let elapsed = now.elapsed();
    println!("Elapsed: {:.2?}", elapsed);

}

fn matrix_sort(){
    let mut matrix = vec![
        vec![20, 71, 301, 265, 219, 168, 154, 31, 237, 277, 41, 295, 120, 39, 356, 111, 120, 143, 316, 119],
        vec![137, 346, 210, 393, 337, 49, 34, 30, 199, 54, 298, 284, 110, 198, 374, 217, 376, 197, 304, 332],
        vec![237, 69, 320, 307, 65, 87, 54, 170, 394, 182, 44, 171, 198, 101, 329, 81, 209, 317, 271, 135],
        vec![387, 168, 356, 204, 3, 287, 37, 28, 203, 346, 54, 148, 42, 268, 381, 238, 204, 339, 107, 107],
        vec![84, 104, 110, 222, 249, 361, 354, 4, 238, 146, 202, 346, 90, 234, 142, 75, 74, 251, 138, 167],
        vec![186, 371, 17, 288, 274, 111, 316, 280, 372, 265, 304, 392, 136, 150, 245, 173, 152, 36, 116, 291],
        vec![264, 291, 278, 80, 136, 337, 235, 258, 260, 35, 93, 252, 271, 362, 37, 346, 113, 186, 266, 245],
        vec![197, 7, 378, 295, 353, 49, 54, 81, 134, 270, 139, 23, 10, 209, 110, 297, 211, 180, 231, 47],
        vec![56, 305, 239, 33, 340, 342, 188, 274, 298, 140, 97, 326, 207, 243, 83, 280, 83, 294, 45, 104],
        vec![227, 42, 147, 6, 296, 374, 24, 82, 263, 224, 283, 53, 296, 63, 38, 19, 271, 32, 296, 60],
        vec![40, 5, 264, 292, 222, 51, 56, 46, 49, 220, 29, 193, 68, 29, 268, 176, 70, 212, 79, 216],
        vec![87, 101, 97, 236, 338, 219, 19, 76, 154, 366, 244, 289, 92, 236, 29, 274, 221, 307, 376, 377],
        vec![184, 238, 304, 286, 319, 54, 315, 120, 28, 266, 222, 52, 210, 36, 234, 264, 85, 64, 77, 386],
        vec![249, 68, 245, 277, 271, 149, 309, 277, 48, 133, 326, 233, 125, 220, 209, 290, 307, 215, 249, 275],
        vec![382, 346, 14, 119, 107, 374, 75, 54, 231, 8, 312, 96, 364, 259, 303, 319, 180, 242, 184, 267],
        vec![11, 89, 174, 200, 353, 90, 335, 336, 115, 304, 157, 194, 153, 129, 334, 359, 82, 67, 147, 203],
        vec![205, 303, 239, 164, 256, 195, 192, 360, 242, 302, 100, 228, 98, 152, 72, 384, 377, 104, 353, 221],
        vec![365, 195, 280, 211, 284, 360, 105, 44, 227, 171, 182, 116, 257, 128, 111, 186, 341, 270, 378, 333],
        vec![332, 227, 222, 236, 397, 263, 104, 195, 219, 7, 31, 234, 164, 93, 179, 43, 263, 156, 307, 280],
        vec![160, 231, 61, 128, 137, 245, 255, 11, 281, 98, 72, 180, 127, 108, 210, 45, 132, 74, 95, 165],
    ];

    let mut linear_matrix_vector: Vec<i32> = Vec::new();
    let matrix_length = matrix.len();

    for i in 0..=matrix_length-1 {
        for j in 0..=matrix_length-1 {
            linear_matrix_vector.push(matrix[i][j]);
        }
    }

    linear_matrix_vector.sort();
    let mut k = 0;

    for i in 0..=matrix_length-1 {
        for j in 0..=matrix_length-1 {
            matrix[i][j] = linear_matrix_vector[k];
            k += 1;
        }
    }

    println!("Sorted Matrix:");
    for i in 0..=matrix_length-1 {
        for j in 0..=matrix_length-1 {
            print!("{} ", matrix[i][j]);
        }
        println!();
    }
}